# Процесс Взаимодействия на уровне Приложения
## Процесс взаимодействия
```puml
@startuml

actor "User Request" as User
participant Controller
participant Model
participant View

User -> Controller: 1. Отправляет запрос

Controller -> Controller:  2. Обработка запроса **User**
Controller --> Controller: 2.1. Аутентификация **User**
Controller --> Controller: 2.2. Валидация переданных **User** данных
Controller --> Controller: 2.3. Преобразование данных в формат взаимодействия с **Model** (parameters)
Controller --> Controller: 2.4. Выбор соответствующей **Model** (model.method)

Controller -> Model: 3. Вызов  в **Model** параметров (model.method(parameters))
Model --> Model: 3.1. Извлечение в method данных Model в соответствии с переданными parameters
Model --> Model: 3.2. Выплонение содержащейся в method бизнес-логики:\nвалидация данных, взаимодействие с внешними системами 
Model --> Model: 3.3. Сохранение изменённых в соответсвии с бизнес-логикой данных в model

Model -> Controller: 4. Возврат запрошенных данных

Controller --> Controller: 5. Выбор подходящей **View**, выбранной на основании п. 1, п. 4

Controller -> View: 6. Передача данных, сформированных на основании п. 4, п. 5
View --> View: 6.1. Преобразование данных из формата **Model** в формат **View**
View --> View: 6.2. Передача данных пользователю 

View -> User: 7. Предоставление данных

@enduml
```

## Уровень Controller
**Controller** в паттерне MVC (Model-View-Controller) отвечает за управление потоком приложения, выступает в качестве посредника между **Model** (данные/бизнес-логика) и **View** (пользовательский интерфейс).
Основные обязанности **Controller**:
- интерпретация пользовательских данных (Request);
- вызове соответствующей бизнес-логики в модели (Model);
- определение подходящего представления (View);того, какое представление следует отобразить. По сути, он организует реакцию приложения на взаимодействие с пользователем.
## Уровень Model
**Model** в паттерне MVC (Model-View-Controller) отвечает за управление данными, бизнес-логикой и правилами приложения. Она служит центральной частью архитектуры, в которой реализована вся основная функциональность. 
Основные обязанности **Model**:
- за хранение состояния приложения
- предоставление методов для доступа и манипулирования состоянием приложения;
- взаимодействие с базой данных или любыми внешними источниками данных.
## Уровень View
**View** в паттерне MVC (Model-View-Controller) отвечает за представление данных пользователю и обработку визуальных аспектов приложения. Он выступает в качестве презентационного слоя и занимается исключительно тем, как данные отображаются, форматируются и доставляются пользователю.
Основные обязанности:
- преобразование данных, полученных от **Controller**;
- отображение преобрвазованной информации **User** (удобном для пользователя формате, таком как HTML, JSON или XML).
# Диаграмма взаимодействия компонент

```puml  
@startuml  
package "Model Layer" {  
  [Data Models]
  [Business Logic]
  [Database Access]
  [Validation Rules]
}
  
package "Controller Layer" {  
  [Routing] --> [Action Methods]
  [Action Methods] --> [Data Transformation]
  [Action Methods] --> [Session Management]
  [Action Methods] --> [Request Handlers]
}
  
package "View Layer" {  
  [Templates] --> [Template Engine]
  [Template Engine] --> [User Interface]
}
  
database Database  
[Database Access] --> Database : Reads/Writes Data
  
@enduml  
```

## Model Layer
Этот слой полностью независим и взаимодействует со слоем **Controller**. Акцент на способах хранения и обработки данных.
### Data Models
Структура данных, представляющая определённую сущность бизнес-логики (напр., Клиент).
### Business Logic
Алгоритмы, обрабатывающие требования бизнес-логики.
### Database Access
Обработка взаимодействия с базой данных.
## View Layer
Отвечает за представление данных пользователю в части форматирования и отображения.
### Templates
Файлы и компоненты, определяющие структуру отображения.
### Template Engine
Механизм обработки шаблона.
### UI (User Interface)
Отвечает за вывод на экран пользовательских данных.
## Controller Layer
Отвечает за ход исполнения потока приложения принимая пользовательские запросы и организуя взаимодействие с состоянием приложения (через модель) для вывода пользователю информации.
### Routing
Сопоставление пользовательского запроса с методом, который необходимо вызвать в контроллере.
### Action Method
Метод, обрабатывающий определённый пользовательский запрос. В **[[Action Method]]**  взаимодействие с **Model** для работы с состоянием приложения.
### Session Management
Управление пользовательскими сессиями, аутентификацией и авторизацией для проверки контроля доступа.
### Data Transformation
Подготовка данных, полученных из **Model** для отображения во **View**.
